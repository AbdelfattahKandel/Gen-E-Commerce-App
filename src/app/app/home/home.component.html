<div class="home-root">
  <div *ngIf="loading" class="spinner-container">
    <div class="spinner"></div>
    <p>Loading amazing products...</p>

    <!-- Loading Skeleton -->
    <div class="skeleton-container">
      <div class="skeleton-grid">
        <div *ngFor="let item of [1, 2, 3, 4]" class="skeleton-card">
          <div class="skeleton-image"></div>
          <div class="skeleton-content">
            <div class="skeleton-title"></div>
            <div class="skeleton-text"></div>
            <div class="skeleton-price"></div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div *ngIf="error && !loading" class="error-container">
    <div class="error-content">
      <i class="fa-solid fa-exclamation-triangle"></i>
      <h3>Oops! Something went wrong</h3>
      <p>
        We couldn't load the products. Please check your internet connection and
        try again.
      </p>
      <button (click)="retryLoad()" class="btn btn-primary">
        <i class="fa-solid fa-refresh"></i>
        Try Again
      </button>
    </div>
  </div>

  <div *ngIf="!loading && !error" class="fade-in">
    <section class="hero">
      <div class="hero-visual">
        <i class="fa-solid fa-bag-shopping"></i>
      </div>
      <h1>Discover Next-Gen Shopping</h1>
      <p>
        Shop smarter, faster, and easier with GenCommerce. Explore trending
        products, enjoy seamless checkout, and experience a new era of online
        shopping.
      </p>
      <div class="hero-actions">
        <a routerLink="/products" class="btn btn-primary btn-lg"
          >Start Shopping</a
        >
        <a routerLink="/about" class="btn btn-outline btn-lg"
          >Why GenCommerce?</a
        >
      </div>
    </section>
    <div class="section-divider"></div>
    <section class="featured-products container">
      <h2>Featured Products</h2>
      <div class="products-grid">
        <div
          *ngFor="let product of featuredProducts; let i = index"
          class="product-card"
          [style.animationDelay]="0.12 * i + 's'"
        >
          <div class="product-img-wrap">
            <img
              [src]="product.image"
              [alt]="product.title"
              class="product-img"
            />
            <span *ngIf="getProductBadge(product)" class="product-badge">{{
              getProductBadge(product)
            }}</span>
          </div>
          <div class="product-info">
            <div class="product-title">{{ product.title }}</div>
            <div class="product-desc">
              {{ product.description | slice : 0 : 60 }}...
            </div>
            <div class="product-price">${{ product.price }}</div>
            <div class="product-rating">
              <i class="fa-solid fa-star"></i>
              {{ product.rating.rate }} ({{ product.rating.count }})
            </div>
          </div>
          <a
            [routerLink]="['/product', product.id]"
            class="product-cta"
            title="View Product"
          >
            <i class="fa-solid fa-arrow-right"></i>
          </a>
        </div>
      </div>
    </section>
  </div>
</div>

<!-- Floating Action Button -->
<button
  *ngIf="showScrollTop"
  (click)="scrollToTop()"
  class="scroll-top-btn"
  title="Back to top"
>
  <i class="fa-solid fa-arrow-up"></i>
</button>
